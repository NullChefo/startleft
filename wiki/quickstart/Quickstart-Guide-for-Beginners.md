# Quickstart Guide for Beginners
The aim of this page is enabling you to get the StartLeft application installed in your machine so that you can execute
some commands, set up the REST API and, in summary, familiarize yourself with the usage of the tool.

## Prerequisites
* Install the **[latest version of Python](https://www.python.org/downloads/)**.
* Install **[pip3](https://pip.pypa.io/en/stable/installation/)**.
* Install **[git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)**

## Install StartLeft
Install the last stable version of the tool using pip:

```shell Tab 1
pip install git+https://github.com/iriusrisk/startleft.git
```

Check your installation with the command:
```shell
startleft --version
```
That should return something like:
```shell
startleft, version <your-installed-version>
```

## The parse command
The `parse` is the main command of the StartLeft CLI that enables you to perform the whole process of conversion
to OTM by providing one or multiple source files and a mapping file. It presents slight variations depending on the type 
of input source that you can check in the [CLI](../Command-Line-Interface.md) section or in each specific processor 
documentation, but, to get an idea of its behavior, you can perform a conversion from an IaC file 
(in this case a CFT from the `examples/cloudformation`folder) with this command:
```shell
startleft parse \
	--iac-type CLOUDFORMATION \
	--mapping-file iriusrisk-cft-mapping.yaml \
	--output-file multinetwork_security_groups_with_lb.otm \
	--project-name "CFT MN Security Groups with LB" \
	--project-id "cft-mn-sg-lb" \
	multinetwork_security_groups_with_lb.json
```

If your infrastructure is defined in separated IaC files, you can merge and parse them in a single command:
```shell
startleft parse \
	--iac-type CLOUDFORMATION \
	--mapping-file iriusrisk-cft-mapping.yaml \
	--output-file split-cft-files.otm \
	--project-name "Split CFT files" \
	--project-id "split-cft-files" \
	split/networks_cft_file.json
	split/resources_cft_file.json
```

In case you want to parse a diagram (using examples from `examples/visio), a couple of modifiers change:
```shell
startleft parse \
      --diagram-type visio \
      --output-file aws-with-tz-and-vpc.otm \
      --project-name "Visio AWS" \
      --project-id "visio-aws" \
      --default-mapping-file iriusrisk-visio-aws-mapping \
      aws-with-tz-and-vpc.vsdx
```

## The server command
[TBD]

## Auxiliary commands
Apart from the `parse`, the CLI provides you with a group of utility commands that simplifies a lot the work with the 
files involved in the OTM conversions performed by StartLeft.

### help
Undoubtedly the most insightful command, that gives you information about all you have available through the CLI.

It can be used in general:
```shell
startleft --help
```
Or for specific commands:
```shell
startleft parse --help
```

### validate
This command is able to perform validations over two types of files:
* **IaC mapping files**, deeply described in each processor's docs, used to create relationships between types in the source
    and their expected equivalent in the OTM (i.e: an `AWS::EC2::Instance` type in CFT matches the `ec2` type in IriusRisk).
    An example of a valid IaC mapping file may be found in the folder `examples/cloudformation`. 
```shell
startleft validate --iac-mapping-file iriusrisk-cft-mapping.yaml
```

* **Diagram mapping files**, also described in the processors' documentation, allows you to validate the format of mapping
    files used for diagram conversions. You can try this with the mapping file located in `examples/visio`.
```shell
startleft validate --diagram-mapping-file iriusrisk-visio-aws-mapping.yaml
```

* **OTM** files that may have been generated by StartLeft or have been handcrafted by any user. To see how to validate 
   an OTM file you can look into the `examples/manual` folder.
```shell
startleft validate --otm-file manual.otm
```

Finally, the command is also able to execute multiple validations at the same time:
```shell
startleft validate \
    --otm-file manual.otm \
    --iac-mapping-file iriusrisk-cft-mapping.yaml \
    --diagram-mapping-file iriusrisk-visio-aws-mapping.yaml
```

### search
This is an auxiliary utility only supported currently for IaC mapping files. Due to the complexity of these files, whose detail can be checked
[here](../startleft-processors/iac/Source-Mapping.md), sometimes it is useful to test some expressions directly before
including them in the final mapping file. For example, taking an example CFT file from `examples/cloudformation`, we can do:
```shell
startleft search \
    --iac-type CLOUDFORMATION \
    --query Resources|squash(@)[?Type=='AWS::EC2::VPC']
    multinetwork_security_groups_with_lb.json
```


